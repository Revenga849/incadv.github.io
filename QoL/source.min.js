var sourcecode = 'window.addEventListener("keydown", function(event) {\n\
	if (document.activeElement.type === "text" || document.activeElement.type === "number") return false;\n\
	var tmp = event.keyCode;\n\
	if (event.keyCode >= 97 && event.keyCode <=104) {\n\
		manPrestige(event.keyCode-97);\n\
	}\n\
}, false);\n\
\n\
function manPrestige(layer) {\n\
	if (getAvailablePrestigePoints()[layer] != undefined) {\n\
		prestige(layer);\n\
		addLog(9, "Shortcut manual prestige Layer " + (layer+1));\n\
		document.getElementById("top-menu-battlefield-button").click();\n\
	}\n\
}\n\
\n\
var logs = [];\n\
var _addCombatLog;\n\
var addLog = function(id, text) {\n\
	_addCombatLog(id, text);\n\
	if (typeof gameState.options !==  "undefined" && typeof gameState.options[id] !==  "undefined" && gameState.options[id] ==  0)\n\
        return;\n\
	var logtext = gameState.combatLog[gameState.combatLog.length-1];\n\
	logs.push(logtext);\n\
	var divlog = document.getElementById("qol-logs");\n\
	if (logs.length > 500) {\n\
		logs.shift();\n\
		if (divlog != undefined) divlog.removeChild(divlog.firstChild);\n\
	}\n\
	\n\
	\n\
	var p = document.createElement("p");\n\
	p.setAttribute("class", "combat-log-record");\n\
	p.style.display = "block";\n\
	p.innerHTML = logtext;\n\
	if (divlog != undefined) divlog.append(p);\n\
	if (bLog) {\n\
		if (divlog != undefined) divlog.scrollTo(0, divlog.scrollHeight);\n\
	}\n\
}\n\
\n\
var formats = ["Default", "Layered Exp", "Logarithm", "Force Exponential"];\n\
var format = 0;\n\
var _renderNumber;\n\
var formatValue = function (value) {\n\
	if (!(value instanceof Decimal)) {\n\
		var value = new Decimal(value);\n\
	}\n\
	if (value.lt(1000)) {\n\
		if (Number.isInteger(value.mag))\n\
			return (value).toFixed(0);\n\
		else \n\
			return (value).toFixed(2);\n\
	}\n\
	var mantissa = value.mantissa.toFixed(3);\n\
	var power = value.e;\n\
		\n\
	if (power > 10000) {\n\
		switch (formats[format]) {\n\
			case "Default":\n\
				return _renderNumber(value);\n\
				break;\n\
			case "Layered Exp":\n\
				if (value.layer < 2) {\n\
					return "e" + formatValue(new Decimal(value.e));\n\
				} else {\n\
					return "e" + formatValue(value.log10());\n\
				}\n\
				break;\n\
			case "Logarithm":\n\
				return "e".repeat(value.layer+1) + Math.log10(value.mag).toFixed(4);\n\
				break;\n\
		}\n\
	}\n\
	return mantissa + "e" + power;\n\
}\n\
\n\
function _init() {\n\
	var div = document.getElementById("qol-container");\n\
	if (div != null) {\n\
		div.remove();\n\
	}\n\
	var div = document.getElementById("qol-totals");\n\
	if (div != null) {\n\
		div.remove();\n\
	}\n\
	if (_renderNumber == undefined) {\n\
		_renderNumber = renderNumber;\n\
		renderNumber = formatValue;\n\
	}\n\
	if (_addCombatLog == undefined) {\n\
		_addCombatLog = addCombatLog;\n\
		addCombatLog = addLog;\n\
	}\n\
	//totalsTime = currentTimeStamp;\n\
	//totals10m[0] = new Decimal(0);\n\
	var style = document.createElement("style");\n\
	document.head.appendChild(style);\n\
	style.sheet.insertRule(".enemy-damage { font-size: 1vw; }");\n\
	style.sheet.insertRule(".enemy-health { font-size: 1vw; }");\n\
	style.sheet.insertRule("#heroes-container { z-index: -1; }");\n\
	style.sheet.insertRule(".hero-damage { font-size: 1vw; }");\n\
	style.sheet.insertRule(".hero-health { font-size: 1vw; }");\n\
	style.sheet.insertRule(".hero-armor { font-size: 1vw; }");\n\
	style.sheet.insertRule(".hero-healing { font-size: 1vw; }");\n\
	style.sheet.insertRule("#enemies-container { z-index: -1; }");\n\
\n\
	document.getElementById("combat-log").setAttribute("style","width: 55vw; font-size: 1.25vw;");\n\
	\n\
	var qoldiv = document.createElement("div");\n\
	qoldiv.setAttribute("id","qol-container");\n\
	qoldiv.setAttribute("style", "height: 27vw; bottom: 0; right: 0; position: fixed; text-align: right; z-index:1");\n\
	qoldiv.style.backgroundColor = (gameState.options[0]==1?"black":"white");\n\
		var div = document.createElement("div");\n\
		div.setAttribute("id","qol-prestige");\n\
		div.setAttribute("style", "overflow:auto; text-align: right; height:24vw");\n\
	qoldiv.append(div);\n\
		var divlog = document.createElement("div");\n\
		divlog.setAttribute("id","qol-logs");\n\
		divlog.setAttribute("style", "overflow:auto; width:100vw; height: 24vw; bottom: 0vw; right: 0; position: fixed; text-align: center; display:none;");\n\
		divlog.style.backgroundColor = (gameState.options[0]==1?"black":"white");\n\
	qoldiv.append(divlog);\n\
\n\
	var qolTotals = document.createElement("div");\n\
	qolTotals.setAttribute("id","qol-totals");\n\
	qolTotals.setAttribute("style", "bottom: 27vw; right: 0; position: fixed; text-align: right; z-index:1");\n\
	qolTotals.style.backgroundColor = (gameState.options[0]==1?"black":"white");\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-asclevel");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;  border-top: 1px solid "+(gameState.options[0]==0?"black":"white"));\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-asclevel");\n\
			span.innerHTML = "<b>Level to next Ascension Point</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-asclevel-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-asclevel-layer");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;");\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-asclevel-layer-label");\n\
			span.innerHTML = "<b>^ Calculate for Layer</b>: ";\n\
		p.append(span);\n\
			var divminus = document.createElement("div");\n\
			divminus.setAttribute("id", "p-asc-layer-minus");\n\
			divminus.setAttribute("class","button prestige-menu-button");\n\
			divminus.setAttribute("style", "padding: 0px; padding-left: 3px; padding-right:3px; margin: 0px; margin-left: 5px; margin-right:5px; display: inline;");\n\
			divminus.innerText = "-";\n\
			divminus.setAttribute("onclick", "ascLayerChange(-1);");\n\
		p.append(divminus);	\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-asclevel-layer-value");\n\
			span2.innerHTML = "11";\n\
		p.append(span2);\n\
		var divplus = document.createElement("div");\n\
			divplus.setAttribute("id", "p-asclevel-layer-plus");\n\
			divplus.setAttribute("class","button prestige-menu-button");\n\
			divplus.setAttribute("style", "padding: 0px; padding-left: 3px; padding-right:3px; margin: 0px; margin-left: 5px; display: inline;");\n\
			divplus.innerText = "+";\n\
			divplus.setAttribute("onclick", "ascLayerChange(1);");\n\
		p.append(divplus);\n\
	qolTotals.append(p);\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-asctime");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block; border-top: 1px solid "+(gameState.options[0]==0?"black":"white"));\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-asctime");\n\
			span.innerHTML = "<b>Ascension Time</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-asctime-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-highestlevel");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;");\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-highestlevel");\n\
			span.innerHTML = "<b>Highest Level</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-highestlevel-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
	var p = document.createElement("p");\n\
		p.setAttribute("id", "p-ascmulti");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;");\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-ascmulti");\n\
			span.innerHTML = "<b>Ascension exp multi</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-ascmulti-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-prestigetotals");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;");\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-prestigetotals");\n\
			span.innerHTML = "<b>Prestige exp multi</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-prestigetotals-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
		var p = document.createElement("p");\n\
		p.setAttribute("id", "p-totals");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.setAttribute("style", "display: block;");\n\
			var span = document.createElement("span");\n\
			span.setAttribute("id", "l-totals");\n\
			span.innerHTML = "<b>Total exp multi</b>: ";\n\
		p.append(span);\n\
			var span2 = document.createElement("span");\n\
			span2.setAttribute("id", "l-totals-value");\n\
			span2.style.display = "inline-block";\n\
			span2.innerText = " ";\n\
		p.append(span2);\n\
	qolTotals.append(p);\n\
	\n\
	document.getElementById("battlefield-screen").append(qoldiv);\n\
	document.getElementById("battlefield-screen").append(qolTotals);\n\
	\n\
	init = true;\n\
}\n\
\n\
function initLogs() {\n\
	for (let i = 0; i < gameState.combatLog.length; i++) {\n\
		var logtext = gameState.combatLog[i];\n\
		logs.push(logtext);\n\
		var divlog = document.getElementById("qol-logs");\n\
		var p = document.createElement("p");\n\
		p.setAttribute("class", "combat-log-record");\n\
		p.style.display = "block";\n\
		p.innerHTML = logtext;\n\
		divlog.append(p);\n\
	}\n\
}\n\
\n\
var theme = gameState.options[0];\n\
var drawing = false;\n\
function redraw() {\n\
	if (drawing) return;\n\
	drawing = true;\n\
	try {\n\
		let __init = init;\n\
		var container = document.getElementById("qol-container");\n\
		var prestiges = document.getElementById("qol-prestige");\n\
		var prestigePoints = getAvailablePrestigePoints();\n\
		if (__init) {\n\
			container.innerHTML = null;\n\
			\n\
			var settingsFormat = document.createElement("p");\n\
			settingsFormat.setAttribute("id", "p-settingsFormat");\n\
			settingsFormat.setAttribute("class", "combat-log-record");\n\
			settingsFormat.setAttribute("style", "display: block; padding:4px; border-top: 2px solid "+(gameState.options[0]==0?"black":"white")+"; border-bottom: 1px solid "+(gameState.options[0]==0?"black":"white"));\n\
			\n\
			var logButton = document.createElement("div");\n\
			logButton.setAttribute("id", "p-log-button");\n\
			logButton.setAttribute("class","button prestige-menu-button");\n\
			logButton.setAttribute("style", "padding-bottom: 1px;padding-top: 1px;padding-right: 10px;padding-left: 10px;margin-left: 5px;display: inline;");\n\
			logButton.innerText = "Logs";\n\
			logButton.setAttribute("onclick", "toggleLog();");\n\
			settingsFormat.append(logButton);\n\
			\n\
			var formatSetting = document.createElement("div");\n\
			formatSetting.setAttribute("id", "p-settings-format");\n\
			formatSetting.setAttribute("class","button prestige-menu-button");\n\
			formatSetting.setAttribute("style", "padding-bottom: 1px;padding-top: 1px;padding-right: 10px;padding-left: 10px;margin-left: 5px;display: inline;");\n\
			formatSetting.innerText = "Format: Default";\n\
			formatSetting.setAttribute("onclick", "toggleFormat();");\n\
			settingsFormat.append(formatSetting);\n\
			\n\
			var showTotalsSetting = document.createElement("div");\n\
			showTotalsSetting.setAttribute("id", "p-settings-show-totals");\n\
			showTotalsSetting.setAttribute("class","button prestige-menu-button");\n\
			showTotalsSetting.setAttribute("style", "padding-bottom: 1px;padding-top: 1px;padding-right: 10px;padding-left: 10px;margin-left: 5px;display: inline;");\n\
			showTotalsSetting.innerText = "Show Totals ON";\n\
			showTotalsSetting.setAttribute("onclick", "toggleShowTotals();");\n\
			settingsFormat.append(showTotalsSetting);\n\
			\n\
			container.append(settingsFormat);\n\
			\n\
			prestiges = document.createElement("div");\n\
			prestiges.setAttribute("id","qol-prestige");\n\
			prestiges.setAttribute("style", "overflow:auto; text-align: right; height:24vw;");\n\
\n\
			var divlog = document.createElement("div");\n\
			divlog.setAttribute("id","qol-logs");\n\
			divlog.setAttribute("style", "overflow:auto; width:100vw; height: 24vw; bottom: 0vw; right: 0; position: fixed; text-align: center; display:none;");\n\
			container.append(divlog);\n\
		}\n\
		\n\
		if (prestigePoints.length != prestiges.childElementCount) {\n\
			prestiges.innerHTML = null;\n\
			if (gameState.prestige != undefined) {\n\
				for (let i = 0; i < prestigePoints.length; i++) {\n\
					var p = document.createElement("p");\n\
					p.setAttribute("id", "p-l" + (i+1));\n\
					p.setAttribute("class", "combat-log-record");\n\
					p.setAttribute("style", "display: block");\n\
					\n\
					var span = document.createElement("span");\n\
					span.setAttribute("id", "l-" + (i+1));\n\
					span.innerHTML = "<b>Layer " + (i+1) + "</b> exp: ";\n\
					p.append(span);\n\
					\n\
					var span2 = document.createElement("span");\n\
					span2.setAttribute("id", "l-" + (i+1) + "-stats");\n\
					span2.style.display = "inline-block";\n\
					span2.innerText = " ";\n\
					p.append(span2);\n\
					\n\
					var button = document.createElement("div");\n\
					button.setAttribute("id", "l" + (i+1) + "-button");\n\
					button.setAttribute("class","button prestige-menu-button");\n\
					button.setAttribute("style", "text-align:center; padding-bottom: 1px;padding-top: 1px;padding-right: 2px;padding-left: 2px;margin: 0;margin-left: 5px;display: inline-block;");\n\
					\n\
					button.setAttribute("onclick", "manPrestige(" + i + ");");\n\
					p.append(button);\n\
					var divlog = document.getElementById("qol-logs");\n\
					divlog.style.backgroundColor = (gameState.options[0]==1?"black":"white");\n\
					prestiges.append(p);\n\
				}\n\
			}\n\
			container.append(prestiges);\n\
			\n\
			\n\
			formatLines();\n\
		}\n\
	} finally {\n\
		drawing = false;\n\
	}\n\
}\n\
\n\
var bLog = false;\n\
function toggleLog() {\n\
	bLog = !bLog;\n\
	var divlog = document.getElementById("qol-logs");\n\
	var div = document.getElementById("qol-prestige");\n\
	var divbattle = document.getElementById("combat-log");\n\
	div.style.display = bLog?"none":"block";\n\
	divlog.style.display = bLog?"block":"none";\n\
	divbattle.style.visibility = bLog?"hidden":"";\n\
	if (bLog) {\n\
		divlog.scrollTo(0, divlog.scrollHeight);\n\
	}\n\
}\n\
\n\
function toggleFormat() {\n\
	format = (format+1)%formats.length;\n\
	var l = document.getElementById("p-settings-format");\n\
	l.innerText = "Format: " + formats[format];\n\
}\n\
\n\
var showTotals = true;\n\
function toggleShowTotals() {\n\
	showTotals = !showTotals;\n\
	var l = document.getElementById("p-settings-show-totals");\n\
	l.innerText = "Show totals: " + (showTotals?"ON":"OFF");\n\
	var t = document.getElementById("qol-totals");\n\
	t.style.display = showTotals?"block":"none";\n\
}\n\
\n\
function formatLines() {\n\
	document.querySelectorAll("[id^=l-][id$=stats]").forEach((a)=>{ a.style.width="";});\n\
	var statsLength = Math.max.apply(Math, Array.from(document.querySelectorAll("[id^=l-][id$=stats]")).map((a)=>{return a.clientWidth;})) + 1;\n\
	document.querySelectorAll("[id^=l-][id$=stats]").forEach((a)=>{ a.style.width=statsLength;});\n\
	\n\
	document.querySelectorAll("[id^=l][id$=button]").forEach((a)=>{ a.style.width="";});\n\
	var statsLength = Math.max.apply(Math, Array.from(document.querySelectorAll("[id^=l][id$=button]")).map((a)=>{return a.clientWidth;})) + 1;\n\
	document.querySelectorAll("[id^=l][id$=button]").forEach((a)=>{ a.style.width=statsLength;});\n\
	\n\
	var screen = document.getElementById("battlefield-screen");\n\
	var combatlog = document.getElementById("combat-log");\n\
	var layerdiv = document.getElementById("qol-container");\n\
	if (bLog) {\n\
		combatlog.style.width = "48vw";\n\
	} else {\n\
		combatlog.style.width = screen.clientWidth-layerdiv.clientWidth-20;\n\
	}\n\
}\n\
\n\
function setButtonText(i, text) {\n\
	l = document.getElementById("l" + (i+1) + "-button")\n\
	if (l != null)\n\
		l.innerText = "Prestige for " + text + "x";\n\
}\n\
\n\
function setButtonTitle(i, title) {\n\
	var l = document.getElementById("l" + (i+1) + "-button");\n\
	if (l != null)\n\
		l.setAttribute("title", title);\n\
}\n\
\n\
function setStatsText(i, text) {\n\
	var l = document.getElementById("l-" + (i+1) + "-stats");\n\
	if (l != null)\n\
		l.innerText = text + "x";\n\
}\n\
\n\
String.prototype.toInterval = function () {\n\
    var sec_num = parseInt(this, 10);\n\
    var hours   = Math.floor(sec_num / 3600);\n\
    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n\
    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\
\n\
    if (hours   < 10) {hours   = "0"+hours;}\n\
    if (minutes < 10) {minutes = "0"+minutes;}\n\
    if (seconds < 10) {seconds = "0"+seconds;}\n\
    return hours+":"+minutes+":"+seconds;\n\
}\n\
\n\
var totals10m = [];\n\
var totalsTime = Date.now();\n\
clearInterval(sTotalsInterval);\n\
var sTotalsInterval = setInterval(function() {\n\
	var totals = new Decimal(1);\n\
	if (typeof gameState.prestige !== "undefined") {\n\
		totals = totals.mul(gameState.prestige.reduce((a,b,c)=>a.multiply(new Decimal(b[1]).add(1).multiply(c>0?c:1)), new Decimal(1)));\n\
		if (typeof gameState.ascension !== "undefined") {\n\
			totals = totals.mul(new Decimal(10).pow(gameState.ascension.reduce((a,b,c)=>a.mul(new Decimal(b[1]).add(1).multiply(c>0?c:1).cube()), new Decimal(1)).mul(gameState.prestige.length).mul(gameState.prestige.length)));\n\
		}\n\
	}\n\
	\n\
	var time = Number.parseInt((Date.now() - totalsTime)/4000);\n\
	if (totals10m.length == 0) {\n\
		var val = [];\n\
		val.time = time;\n\
		val.value = totals;\n\
		totals10m.push(val);\n\
	}\n\
	if (totals10m[totals10m.length-1].time != time) {\n\
		var val = [];\n\
		val.time = time;\n\
		val.value = totals;\n\
		totals10m.push(val);\n\
		if (time>149) {\n\
			totals10m.shift();\n\
		}\n\
	}\n\
	var maxlayer = totals10m.reduce((a,b)=>(a>b.value.layer?a:b.value.layer),totals10m[0].value.layer);\n\
	var minlayer = totals10m.reduce((a,b)=>(a<b.value.layer?a:b.value.layer),totals10m[0].value.layer);\n\
	if (maxlayer != minlayer) {\n\
		totals10m = [];\n\
		totalsTime = Date.now();\n\
		return;\n\
	}\n\
\n\
	if (maxlayer < 1) {\n\
		var average = totals10m.reduce((a,b)=>a.add(b.value), new Decimal(0)).div(totals10m.length);\n\
	} else {\n\
		var average = totals10m.reduce((a,b)=>a.multiply(new Decimal(1).add(b.value)), new Decimal(1)).pow(1/totals10m.length);\n\
	}\n\
	\n\
	if (totals.layer > average.layer) {\n\
		var totalsmag = new Decimal(totals.mag);\n\
		var avgmag = Decimal.layeradd(average.mag, totals.layer - average.layer);\n\
	} else if (totals.layer < average.layer) {\n\
		var avgmag = new Decimal(average.mag);\n\
		var totalsmag = Decimal.layeradd(totals.mag, average.layer - totals.layer);\n\
	} else {\n\
		var avgmag = new Decimal(average.mag);\n\
		var totalsmag = new Decimal(totals.mag);\n\
	}\n\
	\n\
	if (totalsmag.add(0.01).gte(avgmag)) {\n\
		var growth = new Decimal(totalsmag.div(avgmag));\n\
		document.getElementById("l-totals-value").innerText = "(" + (totals.gte(1e10)?"e ":"") + "+" + formatValue(growth*100-100) + "%) " + formatValue(totals) + "x";\n\
	} else {\n\
		var growth = new Decimal(avgmag.div(totalsmag));\n\
		document.getElementById("l-totals-value").innerText = "(" + (totals.gte(1e10)?"e ":"") + "-" + formatValue(growth*100-100) + "%) " + formatValue(totals) + "x";\n\
	}\n\
}, 3800);\n\
\n\
function setTotalsText(text) {\n\
	var prestigeTotals = new Decimal(1);\n\
	var ascTotals = new Decimal(1);\n\
	if (typeof gameState.prestige !== "undefined") {\n\
		document.getElementById("p-highestlevel").style.display = "block";\n\
		document.getElementById("p-totals").style.display = "block";\n\
		prestigeTotals = gameState.prestige.reduce((a,b,c)=>a.multiply(new Decimal(b[1]).add(1).multiply(c>0?c:1)), new Decimal(1));\n\
		if (typeof gameState.ascension !== "undefined") {\n\
			document.getElementById("p-ascmulti").style.display = "block";\n\
			document.getElementById("p-prestigetotals").style.display = "block";\n\
			document.getElementById("p-asctime").style.display = "block";\n\
			ascTotals = new Decimal(10).pow(gameState.ascension.reduce((a,b,c)=>a.mul(new Decimal(b[1]).add(1).multiply(c>0?c:1).cube()), new Decimal(1)).mul(gameState.prestige.length).mul(gameState.prestige.length));\n\
			var timeToAsc = ((currentTimeStamp-gameState.ascentionStartTime)/1000).toString().toInterval();\n\
			document.getElementById("l-ascmulti-value").innerText = formatValue(ascTotals) + "x";\n\
			document.getElementById("l-prestigetotals-value").innerText = formatValue(prestigeTotals) + "x";\n\
			document.getElementById("l-asctime-value").innerText = timeToAsc;\n\
		} else {\n\
			document.getElementById("p-asctime").style.display = "none";\n\
			document.getElementById("p-ascmulti").style.display = "none";\n\
			document.getElementById("p-prestigetotals").style.display = "none";\n\
		}\n\
		//document.getElementById("l-totals-value").innerText = formatValue(ascTotals.mul(prestigeTotals)) + "x";\n\
		document.getElementById("l-highestlevel-value").innerText = formatValue(new Decimal(gameState.highestAscensionLevel));\n\
		\n\
		var prestiges = getAvailablePrestigePoints();\n\
		if (prestiges.length > 13) {\n\
			document.getElementById("p-asclevel").style.display = "block";\n\
			document.getElementById("p-asclevel-layer").style.display = "block";\n\
			document.getElementById("l-asclevel-value").innerText = formatValue(estimateAscLevel());\n\
		} else {\n\
			document.getElementById("p-asclevel").style.display = "none";\n\
			document.getElementById("p-asclevel-layer").style.display = "none";\n\
		}\n\
	} else {\n\
		document.getElementById("p-asctime").style.display = "none";\n\
		document.getElementById("p-asclevel").style.display = "none";\n\
		document.getElementById("p-asclevel-layer").style.display = "none";\n\
		document.getElementById("p-highestlevel").style.display = "none";\n\
		document.getElementById("p-prestigetotals").style.display = "none";\n\
		document.getElementById("p-ascmulti").style.display = "none";\n\
		document.getElementById("p-totals").style.display = "none";\n\
	}\n\
}\n\
\n\
if (sInterval != undefined) {\n\
	clearInterval(sInterval);\n\
}\n\
\n\
function getMult(i) {\n\
	var mult = new Decimal(1);\n\
	prestigePoints = getAvailablePrestigePoints();\n\
	if (gameState.prestige != undefined && gameState.prestige[i] != undefined) {\n\
		mult = new Decimal(1);\n\
		var pstats = new Decimal(gameState.prestige[i][1]);\n\
		var upgradePoints = getPrestigePointsFromStatUpgrades(pstats);\n\
		upgradePoints = upgradePoints.plus(prestigePoints[i]\n\
				.divideBy(5)\n\
				.floor());\n\
		if (getStatUpgradesFromPrestigePoints(upgradePoints).cmp(getStatUpgradesFromPrestigePoints(pstats.add(1)))>=0) {\n\
			mult = getStatUpgradesFromPrestigePoints(upgradePoints)\n\
				.plus(1)\n\
				.divideBy(pstats.plus(1));\n\
		}\n\
	} else {\n\
		mult = new Decimal(i==0?1:i);\n\
		var upgradePoints = new Decimal(0);\n\
		upgradePoints = upgradePoints.plus(prestigePoints[i]\n\
				.divideBy(5)\n\
				.floor());\n\
		if (upgradePoints.cmp(0) > 0) {\n\
			mult = mult.multiply(getStatUpgradesFromPrestigePoints(upgradePoints).plus(1));\n\
		}\n\
	}\n\
	return mult;\n\
}\n\
\n\
function getCur(i) {\n\
	var cur = new Decimal(1);\n\
	if (gameState.prestige != undefined && gameState.prestige[i] != undefined) {\n\
		cur = new Decimal(gameState.prestige[i][1]).plus(1).multiply(i>0?i:1);\n\
	}\n\
	return cur;\n\
}\n\
\n\
var init = true;\n\
var sInterval = setInterval(function() {\n\
	if (init) {\n\
		_init();\n\
		redraw();\n\
		initLogs();\n\
		toggleFormat();\n\
	} else {\n\
		if (theme != gameState.options[0]) {\n\
			_init();\n\
			redraw();\n\
			initLogs();\n\
			theme = gameState.options[0];\n\
		} else {\n\
			redraw();\n\
		}\n\
	}\n\
	init = false;\n\
	if (gameState.prestige != undefined) {\n\
		prestigePoints = getAvailablePrestigePoints();\n\
		\n\
		var curvals = [];\n\
		var multvals = [];\n\
		for (var i = 0; i < prestigePoints.length; i++) {\n\
			curvals[i] = getCur(i);\n\
			setStatsText(i, formatValue(curvals[i]));\n\
			multvals[i] = getMult(i);\n\
			setButtonText(i, formatValue(multvals[i]));\n\
		}\n\
	}\n\
	setTotalsText();\n\
	formatLines();\n\
}, 250);\n\
\n\
function ascLayerChange(n) {\n\
	var span = document.getElementById("l-asclevel-layer-value");\n\
	var t = Number.parseInt(span.innerText);\n\
	var t2 = t+n;\n\
	if (gameState.prestige != undefined) {\n\
		if (t2<19) t2=19;\n\
	} else {\n\
		t2 = 20;\n\
	}\n\
	span.innerText = t2;\n\
}\n\
\n\
function estimateAscLevel() {\n\
	ascLayerChange(0);\n\
	var availableAscPoints = getAvailableAscensionPoints();\n\
	if (availableAscPoints != undefined && availableAscPoints.length > 0) {\n\
		var ascPoints = availableAscPoints[0];\n\
	} else {\n\
		var ascPoints = new Decimal(0);\n\
	}\n\
	var ascPointsTarget = ascPoints.add(1);\n\
	\n\
	var layer = new Decimal(document.getElementById("l-asclevel-layer-value").innerText);\n\
	var level = new Decimal(gameState.highestAscensionLevel);\n\
	var curPoints = new Decimal(0);\n\
	if (gameState.ascension != undefined) {\n\
		var ascensionExp = new Decimal(gameState.ascension[0][1]);\n\
		var curPoints = curPoints.add(gameState.ascension[0][0]);\n\
	} else {\n\
		var ascensionExp = new Decimal(0);\n\
		var curPoints = new Decimal(0);\n\
	}\n\
	\n\
	if (ascensionExp.gt(0)) {\n\
		curPoints = curPoints.plus(ascensionExp.pow(2.2).floor());\n\
	}\n\
	var level = ascPointsTarget.pow(1.25);\n\
	if (ascPointsTarget.gt(1)) {\n\
		level = level.div(curPoints.add(1).pow(0.125)).mul(100).ceil().div(100);\n\
	}\n\
	level = Decimal.layeradd(level.pow(1/1.8).mul(100).div(layer.minus(10)),2);\n\
	return level.pow(1.01);\n\
}';
